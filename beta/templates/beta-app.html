{% extends "beta-base.html" %}
{% load i18n %}
{% block title %}Dareyoo (beta){% endblock %}
{% block css %}
{{ block.super }}
<link rel="stylesheet" href="{{ STATIC_URL }}beta/build/css/dareyoo_app.all.min.css">

    <style type="text/css">
    body { margin-top: 0px; }

    /* Explanation of the following line: http://angular-ui.github.io/bootstrap/ */
    .nav, .pagination, .carousel, .panel-title a { cursor: pointer; }

    .container {
      max-width: 1000px;
    }
    .new-bet-tips{width:300px;max-width:300px;}
    .bet-list { border: 1px solid black; }
    .bet-row { border-bottom: 1px solid #CCC; margin: 2px; padding:5px; }
    .bet-image { padding: 10px; }
    .bet-text { padding: 10px; max-width: 65%; }
    .bet-username { font-family: Tahoma, Geneva, sans-serif; font-weight: bold; font-size: 1em; padding-right: 10px; }
    .bet-title { font-family: Tahoma, Geneva, sans-serif; font-size: 1.3em; }
    .bet-closing { color:red; font-family: Tahoma, Geneva, sans-serif; font-size: 0.8em; margin-bottom: 0px; }
    .user-profile-link { color: black; text-align: center; }
    .profile-image { display:block; margin: auto; }
    .view-profile { color: gray; font-size: 0.8em; }
    .coins-available { color: green; font-family: Tahoma, Geneva, sans-serif; font-weight: bold; font-size: 1.2em; }
    .coins-locked { color: orange; font-family: Tahoma, Geneva, sans-serif; font-weight: bold; font-size: 1em; }
    .points { color: black; font-family: Tahoma, Geneva, sans-serif; font-weight: bold; font-size: 0.9em; margin-top: 20px; }
    .num-points { font-size: 4em; }
    .text-points { color: #999; padding-top: 10px; }
    .sidebar-nav { margin-top: 20px; }
    .new_notifications_num { padding: 5px; text-align: center; }
    /*.dropdown-menu>li.unread>a{ background-color: #EEBBFF; }
    .dropdown-menu>li.unread>a:hover{ background-color: #DD99FF; }
    .dropdown-menu>li>a:hover{ background-color: #DDDDDD; }*/
    </style>
{% endblock %}

{% block body %}<body ng-app="dareyoo">{% endblock %}

{% block navbar %}
<base href="/app/"></base>
<nav class="navbar-default" role="navigation">
  <!-- Brand and toggle get grouped for better mobile display -->
  <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-app-navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/"><img src="{{ STATIC_URL }}beta/build/img/logo_small.png"></a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="main-app-navbar-collapse">
        <ul class="nav navbar-nav navbar-left">
          <li ng-class="{ active: $state.includes('main') }"><a href="#" ui-sref="main.timeline">INICIO</a></li>
          <li ng-class="{ active: $state.includes('profile') }" ng-if="user"><a href="#" ui-sref="profile.bets({userId:user.id})">PERFIL</a></li>
          <li ng-class="{ active: $state.includes('rankings') }"><a href="#" ui-sref="rankings">R√ÅNKINGS</a></li>
        </ul>
        <div class="navbar-form navbar-left" role="search" ng-controllerkk="SearchCtrl">
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Search" ng-model="q.query">
          </div>
          <button type="button" class="btn btn-default" ng-click="search()"><span class="glyphicon glyphicon-search"></span></button>
        </div>
        <ul class="nav navbar-nav navbar-right">
          <li class="dropdown" ng-if="user">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown" ng-click="notificationsClick()">
              <span class="badge alert-danger">[[new_notifications || ""]]</span>
              <span> Mensajes</span>
            </a>
            <ul class="dropdown-menu">
              <li ng-repeat="note in notifications" ng-class="{'unread': !note.readed}">
                <a ng-if="note.bet" href="#" ui-sref="main.bet({betId:note.bet})" ng-click="notificationClick(note)"><span ng-if="!note.readed" class="glyphicon glyphicon-envelope"></span> [[note.subject]]</a>
                <a ng-if="!note.bet" href="#" ui-sref="profile.bets({userId:note.user})" ng-click="notificationClick(note)"><span ng-if="!note.readed" class="glyphicon glyphicon-envelope"></span> [[note.subject]]</a>
              </li>
            </ul>
          </li>
          <li ng-if="user"><a href="{% url "beta-logout" %}">Logout</a></li>
          <li ng-if="!user"><a href="{% url "beta-login" %}">Login</a></li>
        </ul>
      </div><!-- /.navbar-collapse -->
    </div>
</nav>
{% endblock %}

{% block content %}
    <div class="container">
      <div ui-view></div>
    </div>
{% endblock %}

{% block js %}
<script src="{{ STATIC_URL }}beta/build/js/dareyoo_app.all.min.js"></script>
<script type="text/javascript">
  angular.module('dareyoo').
  constant('config', {static_url: "{{ STATIC_URL }}", fb_key: "{{ fb_key }}" });
</script>
{% endblock %}